<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>E-Dziennik</title>

<style>
body { margin:0;font-family:Arial;background:#f4f6f8 }
.hidden{display:none}
.flex{display:flex}

/* LOGIN */
#login{height:100vh;display:flex;justify-content:center;align-items:center}
.login{background:#fff;padding:30px;width:340px;border-radius:6px}
.login input,.login select,.login button{width:100%;padding:10px;margin-top:10px}
.login button{background:#1976d2;color:#fff;border:0;cursor:pointer}

/* APP */
#app{height:100vh}

/* SIDEBAR */
.sidebar{width:230px;background:#1f2a38;color:#fff;padding:20px}
.sidebar a{display:block;color:#cfd8dc;text-decoration:none;margin:12px 0}
.sidebar a:hover{color:#fff}

/* MAIN */
.main{flex:1;padding:20px}
.header{background:#fff;padding:15px;border-radius:6px;margin-bottom:15px}
.card{background:#fff;padding:15px;border-radius:6px;margin-bottom:15px}
.logout{float:right;color:#1976d2;cursor:pointer}

/* TABLE */
table{width:100%;border-collapse:collapse}
th,td{border:1px solid #ccc;padding:8px;text-align:center}
th{background:#e3e8ec}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="login">
  <div class="login">
    <h2>E-Dziennik</h2>
    <input id="name" placeholder="Login / ImiÄ™">
    <select id="role">
      <option value="">Rola</option>
      <option value="uczen">UczeÅ„</option>
      <option value="nauczyciel">Nauczyciel</option>
      <option value="dyrektor">Dyrektor</option>
    </select>
    <button id="loginBtn">Zaloguj</button>
  </div>
</div>

<!-- APP -->
<div id="app" class="flex hidden">

  <div class="sidebar">
    <h3 id="roleLabel"></h3>
    <a onclick="show('oceny')">ðŸ“˜ Oceny</a>
    <a onclick="show('frekwencja')">ðŸ•’ Frekwencja</a>
    <a onclick="show('plan')">ðŸ“… Plan lekcji</a>
    <a onclick="show('wiadomosci')">ðŸ“¨ WiadomoÅ›ci</a>
  </div>

  <div class="main">
    <div class="header">
      Witaj, <b id="userLabel"></b>
      <span class="logout" onclick="logout()">Wyloguj</span>
    </div>

    <!-- OCENY -->
    <div id="oceny" class="card hidden">
      <h3>Oceny</h3>
      <table>
        <tr><th>Przedmiot</th><th>Oceny</th></tr>
        <tr><td>Matematyka</td><td>5, 4, 5</td></tr>
        <tr><td>Polski</td><td>4, 3</td></tr>
        <tr><td>Angielski</td><td>5, 5</td></tr>
      </table>
    </div>

    <!-- FREKWENCJA -->
    <div id="frekwencja" class="card hidden">
      <h3>Frekwencja</h3>
      <table>
        <tr><th>Data</th><th>Status</th></tr>
        <tr><td>01-09</td><td>Obecny</td></tr>
        <tr><td>02-09</td><td>Nieobecny</td></tr>
      </table>
    </div>

    <!-- PLAN -->
    <div id="plan" class="card hidden">
      <h3>Plan lekcji</h3>
      <table>
        <tr><th>Godzina</th><th>Przedmiot</th></tr>
        <tr><td>8:00</td><td>Matematyka</td></tr>
        <tr><td>9:00</td><td>Polski</td></tr>
      </table>
    </div>

    <!-- WIADOMOÅšCI -->
    <div id="wiadomosci" class="card hidden">
      <h3>WiadomoÅ›ci</h3>
      <p><b>Nauczyciel:</b> Sprawdzian w piÄ…tek.</p>
    </div>

  </div>
</div>

<script>
const loginDiv = document.getElementById("login")
const app = document.getElementById("app")

const nameI = document.getElementById("name")
const roleI = document.getElementById("role")

const userLabel = document.getElementById("userLabel")
const roleLabel = document.getElementById("roleLabel")

const sections = ["oceny","frekwencja","plan","wiadomosci"]

function show(id){
  sections.forEach(s=>document.getElementById(s).classList.add("hidden"))
  document.getElementById(id).classList.remove("hidden")
}

document.getElementById("loginBtn").onclick=()=>{
  if(!nameI.value||!roleI.value)return alert("UzupeÅ‚nij dane")
  const user={name:nameI.value,role:roleI.value}
  localStorage.setItem("user",JSON.stringify(user))
  start(user)
}

function start(u){
  loginDiv.classList.add("hidden")
  app.classList.remove("hidden")
  userLabel.textContent=u.name
  roleLabel.textContent=u.role.toUpperCase()
  show("oceny")
}

function logout(){
  localStorage.clear()
  location.reload()
}

const saved=JSON.parse(localStorage.getItem("user"))
if(saved)start(saved)
</script>

</body>
</html>
